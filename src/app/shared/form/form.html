<div class="register-container">
  <h2>Crear cuenta</h2>

  <form [formGroup]="form" (ngSubmit)="onSubmit()">

    <input
      type="email"
      placeholder="Email"
      formControlName="email"
    />

    @if(form.get('email')?.touched && form.get('email')?.invalid){
      <p class="error">El email es obligatorio y debe ser válido</p>
    }

    <input
      type="password"
      placeholder="Contraseña"
      formControlName="password"
    />

    @if(form.get('password')?.touched && form.get('password')?.invalid){
      <p class="error">La contraseña es obligatoria</p>
    }

    <div class="action">
        <button
        mat-button
        type="button"
        class="back-btn"
        (click)="goBack()">
        Regresar
        </button>
        
        <button
        mat-raised-button
        color="primary"
        type="submit"
        [disabled]="loading || form.invalid">
        {{ loading ? 'Registrando...' : 'Registrarse' }}
        </button>
    </div>

    @if(errorMessage){
      <p class="error">{{ errorMessage }}</p>
    }

  </form>
</div>
